<!doctype html><html lang="pt-br"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Vistoria Remota</title><link rel="stylesheet" href="./assets.css"/></head>
<body><div class="wrap">
<div class="card hdr"><h1>Vistoria Remota â€” Painel</h1><div class="badge ok"><span class="dot"></span><span>Modo streaming (v3)</span></div></div>
<div class="card grid">
<div class="row">
<button class="btn primary" id="btnNew">Gerar links da vistoria</button>
<button class="btn" id="btnCopyCam">Copiar link do associado</button>
<button class="btn" id="btnCopyView">Copiar link do atendente</button>
</div>
<p class="small">âœ… O associado sÃ³ clica e permite a cÃ¢mera.<br/>ğŸ¥ O atendente vÃª em tela cheia, sem â€œgradeâ€ e sem bolinha do atendente.<br/>ğŸ“· Tentamos abrir na cÃ¢mera traseira automaticamente (depende do Android/browser).</p>
<div class="card links">
<p class="small"><b>Link do associado (cÃ¢mera):</b></p><div class="linkline"><a id="cam" target="_blank">â€”</a></div>
<p class="small" style="margin-top:12px"><b>Seu link (assistir):</b></p><div class="linkline"><a id="view" target="_blank">â€”</a></div>
</div>
<p class="small">SeguranÃ§a: salas aleatÃ³rias difÃ­ceis de adivinhar.</p>
</div>
<p class="small" style="margin-top:14px">Plataforma desenvolvida por <b>Pedro VinÃ­cius Moraes Alves</b>.</p>
</div></div>
<script>
function roomId(){return "v-"+crypto.getRandomValues(new Uint32Array(1))[0].toString(16)+"-"+Math.random().toString(36).slice(2,8);}
function basePath(){const p=location.pathname;const dir=p.endsWith("/")?p:p.substring(0,p.lastIndexOf("/")+1);return location.origin+dir;}
function setLinks(r){const base=basePath();const cam=base+"camera.html?r="+encodeURIComponent(r);const view=base+"assistir.html?r="+encodeURIComponent(r);
camEl.href=cam;camEl.textContent=cam;viewEl.href=view;viewEl.textContent=view;}
async function copy(text){try{await navigator.clipboard.writeText(text);alert("Copiado!");}catch{prompt("Copie:",text);}}
const camEl=document.getElementById("cam");const viewEl=document.getElementById("view");
document.getElementById("btnNew").onclick=()=>setLinks(roomId());
document.getElementById("btnCopyCam").onclick=()=>camEl.href?copy(camEl.href):alert("Gere os links primeiro.");
document.getElementById("btnCopyView").onclick=()=>viewEl.href?copy(viewEl.href):alert("Gere os links primeiro.");
setLinks(roomId());
</script></body></html>